<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<style>
body {
  margin: 0;
  font-family: 'Segoe UI', Arial, sans-serif;
  background: #f0f5f9;
  color: #1e293b;
}

header {
  position: relative;
  background: linear-gradient(90deg, #1e3a8a, #3b82f6, #f59e0b);
  padding: 40px 15px;
  text-align: center;
  color: white;
  border-bottom-left-radius: 20px;
  border-bottom-right-radius: 20px;
}

header h1 {
  margin: 0;
  font-size: 64px;
  font-weight: 900;
}

header .cart-icon {
  position: absolute;
  top: 20px;
  right: 20px;
  font-size: 48px;
  color: #f59e0b;
  cursor: pointer;
}

.category-title {
  font-size: 56px;
  font-weight: bold;
  text-align: center;
  padding: 15px 0;
  margin: 20px 0 10px;
  border-radius: 10px;
  color: white;
}

.category-fish { background: #2563eb; }     
.category-caviar { background: #FF6B6B; }  
.category-bakery { background: #fbbf24; }  

.container {
  padding: 0 15px 20px 15px;
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 25px;
  justify-items: center;
}

.card {
  background: #ffffff;
  border-radius: 20px;
  overflow: hidden;
  box-shadow: 0 8px 25px rgba(0,0,0,0.15);
  width: 100%;
  max-width: 640px;
  text-align: center;
  padding: 20px;
}

.card img {
  width: 100%;
  height: 300px;
  object-fit: cover;
  border-radius: 12px;
  margin-bottom: 15px;
}

.card-content { padding: 10px; }
.title { font-size: 48px; font-weight: 800; margin-bottom: 10px; }
.price { font-size: 40px; font-weight: bold; color: #2563eb; margin-bottom: 15px; }
select, input[type=checkbox] { font-size: 28px; padding: 8px; margin: 10px 0; }
button { width: 100%; background: linear-gradient(90deg, #2563eb, #60a5fa); border: none; padding: 25px 0; border-radius: 16px; color: white; font-size: 28px; font-weight: bold; cursor: pointer; margin-top: 10px; }
button:hover { opacity: 0.85; }

#cart-page { display: none; padding: 30px; }
#cart-items div { background: #fff; padding: 20px; margin-bottom: 15px; border-radius: 16px; box-shadow:0 4px 15px rgba(0,0,0,0.1); font-size:28px; display:flex; justify-content:space-between; align-items:center;}
.cart-btn { font-size:32px; padding:10px 20px; border-radius:16px; font-weight:bold; background-color:#f59e0b; color:white; cursor:pointer; margin-left:10px; }

#comment, #phone, #address { width:95%; margin:10px auto; padding:18px; font-size:28px; border-radius:12px; border:1px solid #cbd5e1; display:block; }

#total { font-size:36px; font-weight:bold; margin:20px 0; text-align:center; }

footer { text-align:center; padding:20px; font-size:18px; opacity:0.8; }
</style>
</head>
<body>

<header>
<h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å</h1>
<div class="cart-icon" onclick="goToCartPage()">üõí</div>
</header>

<div id="catalog">
<!-- –ó–¥–µ—Å—å –≤—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —Ç–æ–≤–∞—Ä—ã -->
<!-- –ü—Ä–∏–º–µ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ò–∫—Ä–∞ -->
<div class="category-title category-caviar">ü•Ñ –ò–∫—Ä–∞</div>
<div class="container">
  <div class="card">
    <img src="placeholder.jpg" alt="–ò–∫—Ä–∞ —Ñ–æ—Ä–µ–ª–∏">
    <div class="card-content">
      <div class="title">–ò–∫—Ä–∞ —Ñ–æ—Ä–µ–ª–∏</div>
      <div class="price">200‚ÄØ–≥ ‚Äî 25‚Ç¨ / 250‚ÄØ–≥ ‚Äî 30‚Ç¨</div>
      <label>–í—ã–±–µ—Ä–∏—Ç–µ –≤–µ—Å:</label>
      <select id="weight-caviar">
        <option value="0.2">200‚ÄØ–≥</option>
        <option value="0.25">250‚ÄØ–≥</option>
      </select>
      <button onclick="addToCartOption('–ò–∫—Ä–∞ —Ñ–æ—Ä–µ–ª–∏', 125, document.getElementById('weight-caviar').value)">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
    </div>
  </div>
  <div class="card">
    <img src="placeholder.jpg" alt="–ò–∫—Ä–∞ –∫–µ—Ç—ã">
    <div class="card-content">
      <div class="title">–ò–∫—Ä–∞ –∫–µ—Ç—ã Nordic Seafood üá≥üá¥</div>
      <div class="price">500‚ÄØ–≥ ‚Äî 90‚Ç¨</div>
      <button onclick="addToCart('–ò–∫—Ä–∞ –∫–µ—Ç—ã', 90)">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
    </div>
  </div>
</div>

<!-- –û—Å—Ç–∞–ª—å–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —Ç–æ–≤–∞—Ä—ã –≤—Å—Ç–∞–≤—å –ø–æ –ø—Ä–∏–º–µ—Ä—É –≤—ã—à–µ -->

<div style="text-align:center; margin:20px;">
  <button onclick="goToCartPage()">–ü–µ—Ä–µ–π—Ç–∏ –∫ –∫–æ—Ä–∑–∏–Ω–µ</button>
</div>
</div>

<!-- –ö–û–†–ó–ò–ù–ê -->
<div id="cart-page">
<h2>–ö–æ—Ä–∑–∏–Ω–∞</h2>
<div id="cart-items"></div>
<div id="total"></div>

<textarea id="comment" placeholder="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∑–∞–∫–∞–∑—É"></textarea>
<input id="phone" type="text" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω" value="+38269575828" />
<input id="address" type="text" placeholder="–ê–¥—Ä–µ—Å / –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è" />

<div style="font-size:28px; color:#f59e0b; margin:20px 0; text-align:center;">
  *–§–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ—á–Ω–æ–≥–æ –≤–µ—Å–∞ –∏ —É–ø–∞–∫–æ–≤–∫–∏.
</div>

<button onclick="confirmOrder()" style="width:100%; font-size:32px; padding:25px; background:#2563eb; color:white; border-radius:16px; margin-bottom:10px;">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–∫–∞–∑</button>
<button onclick="goBackToCatalog()" style="width:100%; font-size:32px; padding:25px; background:#f59e0b; color:white; border-radius:16px;">–ù–∞–∑–∞–¥ –≤ –≤–∏—Ç—Ä–∏–Ω—É</button>
</div>

<footer>
üìû –ó–∞–∫–∞–∑—ã –∑–∞—Ä–∞–Ω–µ–µ: +382 69 575 828 ‚Ä¢ IKRU MNE
</footer>

<script>
let tg = window.Telegram.WebApp;
tg.expand();

let cart = [];

function addToCartOption(item, pricePerKg, weightKg, cleaned=false){
  let totalPrice = (pricePerKg * weightKg).toFixed(2);
  let optionText = cleaned ? "–æ—á–∏—â–µ–Ω" : "";
  cart.push({item, price: totalPrice, weight: weightKg, option: optionText});
  alert(`–î–æ–±–∞–≤–ª–µ–Ω–æ: ${item} ‚Äî ${weightKg} –∫–≥ ${optionText} (~${totalPrice}‚Ç¨)`);
}

function addToCart(item, price){
  cart.push({item, price});
  alert(`–î–æ–±–∞–≤–ª–µ–Ω–æ: ${item} (~${price}‚Ç¨)`);
}

function goToCartPage(){
  document.getElementById('catalog').style.display='none';
  document.getElementById('cart-page').style.display='block';
  updateCartUI();
}

function goBackToCatalog(){
  document.getElementById('cart-page').style.display='none';
  document.getElementById('catalog').style.display='block';
}

function updateCartUI(){
  let cartDiv = document.getElementById('cart-items');
  let totalDiv = document.getElementById('total');
  cartDiv.innerHTML='';
  let total=0;
  cart.forEach((product,index)=>{
    total += parseFloat(product.price);
    cartDiv.innerHTML += `<div>${product.item} ${product.weight ? '‚Äî '+product.weight+' –∫–≥' : ''} ${product.option || ''} ‚Äî ${product.price}‚Ç¨
      <button class="cart-btn" onclick="removeFromCart(${index})">‚ùå</button>
    </div>`;
  });
  totalDiv.innerHTML = `–ò—Ç–æ–≥–æ: ${total.toFixed(2)}‚Ç¨`;
}

function removeFromCart(index){
  cart.splice(index,1);
  updateCartUI();
}

function confirmOrder(){
  let comment = document.getElementById('comment').value;
  let phone = document.getElementById('phone').value;
  let address = document.getElementById('address').value;
  let orderText = cart.map(p=>`${p.item} ${p.weight ? '‚Äî '+p.weight+' –∫–≥' : ''} ${p.option || ''} ‚Äî ${p.price}‚Ç¨`).join('\n');
  if(comment) orderText += `\n–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: ${comment}`;
  if(phone) orderText += `\n–¢–µ–ª–µ—Ñ–æ–Ω: ${phone}`;
  if(address) orderText += `\n–ê–¥—Ä–µ—Å: ${address}`;
  tg.sendData(`–ó–∞–∫–∞–∑ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:\n${orderText}`);
  alert('–ó–∞–∫–∞–∑ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω! –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏.');
  cart=[];
  document.getElementById('comment').value='';
  document.getElementById('phone').value='+38269575828';
  document.getElementById('address').value='';
  goBackToCatalog();
}
</script>
</body>
</html>